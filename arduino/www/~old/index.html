<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Index</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <!-- test chart -->
    <script type="text/javascript">
      $(function () {
        $.get('data/test.csv', function(data) {
          var lines = data.split('\n');
          $.each(lines, function (lineNo, line) {
              var items = line.split(',');
              if(lineNo !== 0) {
                     //Date,ID,Size,Target,Current,Ambient,Pump,Pelt
                     var x = parseFloat(items[0]),
                     ID = parseFloat(items[1]),
                     Size = parseFloat(items[2]),
                     Target = parseFloat(items[3]),
                     Current = parseFloat(items[4]),
                     Ambient = parseFloat(items[5]),
                     Pump = parseFloat(items[6]),
                     Pelt = parseFloat(items[7]);
                  if(!isNaN(Target) && !isNaN(Current)){
                      options.series[0].push([x,Target]);
                      options.series[1].push([x,Current]);
                      options.series[2].push([x,Ambient])
                      
                      //get REferenceError: Can't find variable: options

                      //why does options not work, but works here : http://stackoverflow.com/questions/24312250/select-which-columns-from-csv-to-graph-with-highchart

                      // documentation also uses options.
                      // http://www.highcharts.com/docs/working-with-data/custom-preprocessing

                  }
              }

          });


          $('#container').highcharts({
              chart: {
                  type: 'line'
              },
              title: {
                  text: 'Title Goes Here'
              },
              yAxis: {
                  title: {
                      text: 'Units'
                  }
              },
              series: [{
                  name: 'Target !',
                  data: []
              }, {
                  name: 'Current !',
                  data: []
              }, {
                  name: 'Ambient!',
                  data: []
              }]
          });
        });
      });
    </script>

  </head>
  <body>
    <script src="js/highcharts.js"></script>
    <script src="js/modules/data.js"></script>
    <script src="js/modules/exporting.js"></script>
    <h1>Hello, world!</h1>
    <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>

    

  



  </body>
</html>